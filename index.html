<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>å°å°¾å·´çš„ä¸ƒå¤•ç¤¼ç‰© ğŸ’</title>
<style>
  body {
    font-family: "Helvetica Neue", Arial, sans-serif;
    background: linear-gradient(135deg, #ffe6eb, #fff0f5);
    margin: 0; padding: 0;
  }
  .card {
    max-width: 760px;
    margin: 40px auto;
    padding: 22px;
    background: #fff;
    border-radius: 18px;
    box-shadow: 0 8px 24px rgba(255, 120, 160, 0.25);
    position: relative;
    text-align: center;
  }
  h1 {
    margin: 0 0 16px;
    font-size: 28px;
    color: #e25590;
  }
  p {
    color: #555;
    line-height: 1.6;
  }
  .btn {
    display: inline-block;
    margin-top: 18px;
    padding: 12px 20px;
    border-radius: 10px;
    background: #ff7aa2;
    color: #fff;
    border: none;
    cursor: pointer;
    transition: background 0.2s, transform 0.2s;
    font-size: 16px;
  }
  .btn:hover {
    background: #ff5a8c;
    transform: scale(1.05);
  }
  .btn.secondary {
    background: #ffe4ec;
    color: #d6336c;
    border: 1px solid #f9b5d1;
  }
  .hearts {
    font-size: 28px;
    animation: float 3s infinite;
    margin: 12px 0;
  }
  @keyframes float {
    0% { transform: translateY(0); opacity: 1; }
    50% { transform: translateY(-15px); opacity: 0.7; }
    100% { transform: translateY(-30px); opacity: 0; }
  }
  .music-control {
    margin-top: 16px;
  }
  .hidden { display: none; }
  footer { margin-top: 18px; font-size: 13px; color: #888; text-align: center; }

  /* è¾“å…¥åŒºåŸŸå®¹å™¨ */
  .input-area {
    margin-top: 28px; /* åŸæœ¬16px + 12pxé¢å¤–é—´è· */
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 12px;
  }
  /* è¾“å…¥æ¡†æ ·å¼ */
  #answerInput {
    width: 80%;
    max-width: 360px;
    padding: 12px;
    border: 2px solid #ffd6e0;
    border-radius: 12px;
    font-size: 16px;
    text-align: center;
    outline: none;
    transition: border 0.2s, box-shadow 0.2s;
  }
  #answerInput:focus {
    border-color: #ff7aa2;
    box-shadow: 0 0 6px rgba(255, 122, 162, 0.4);
  }
  /* æŠ–åŠ¨åŠ¨ç”» */
  @keyframes shake {
    0% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    50% { transform: translateX(6px); }
    75% { transform: translateX(-6px); }
    100% { transform: translateX(0); }
  }
  .shake {
    animation: shake 0.4s;
  }

  /* æŒ‰é’®è¡Œ */
  .btn-row {
    display: flex;
    gap: 10px;
    justify-content: center;
  }
</style>
</head>
<body>
  <!-- å¼€åœºé¡µé¢ -->
  <div id="intro" class="card">
    <div class="hearts">ğŸ’–âœ¨ğŸ’</div>
    <h1>Zyy ä½ å¥½ï¼æˆ‘æ˜¯ä½ çš„ä¸ƒå¤•ç¤¼ç‰©ï¼</h1>
    <p id="introText">
      æ¬¢è¿æ¥åˆ°ç»™å°å°¾å·´å‡†å¤‡çš„çº¿ä¸Šè§£è°œæ¸¸æˆ-ä¸ƒå¤•ç‰¹ä¾›ç‰ˆ ğŸ’•<br>
      èªæ˜æœºçµçš„ä½ å°†ä¼šåœ¨ä¸€ä¸ªåˆä¸€ä¸ªçš„é—®é¢˜ä¸­å¯»æ‰¾ç­”æ¡ˆ ğŸ’Œ<br/>
      æ¯ä¸€é“é¢˜ç›®ï¼Œéƒ½æ˜¯æˆ‘ä»¬æ•…äº‹çš„ä¸€éƒ¨åˆ† âœ¨<br/>
      å¸Œæœ›ä½ èƒ½å¸¦ç€ç¬‘å®¹ï¼Œä¸€æ­¥æ­¥èµ°å‘æœ€ç»ˆçš„èƒœåˆ©ï¼Œè·å¾—æ´»åŠ¨çºªå¿µå“å—·! ğŸ <br>
      From  çˆ±ä½ çš„ç”·æœ‹å‹ gwlj
    </p>
    <div class="music-control">
      <button id="musicBtn" class="btn secondary">æ’­æ”¾éŸ³ä¹ ğŸ¶</button>
    </div>
    <button id="startBtn" class="btn">å¼€å§‹å†’é™© â¡ï¸</button>
  </div>

  <!-- æ¸¸æˆé¡µé¢ -->
  <div id="gameCard" class="card hidden">
    <h1>ä¸ƒå¤•è§£è°œå°å†’é™©</h1>
    <div id="game">
      <div class="prompt" id="promptTxt"></div>
      <div class="input-area">
        <input id="answerInput" type="text" placeholder="è¾“å…¥ç­”æ¡ˆ..." autocomplete="off" />
        <div class="btn-row">
          <button id="submitBtn" class="btn">æäº¤ç­”æ¡ˆ</button>
          <button id="hintBtn" class="btn secondary">å°æç¤º ğŸ’Œ</button>
          <button id="musicBtnGame" class="btn secondary">æš‚åœéŸ³ä¹ â¸ï¸</button>
        </div>
      </div>
      <div id="hintBox" class="hidden" style="margin-top:12px; padding:10px; background:#fff8f9; border-left:4px solid #ffb3c1; border-radius:6px;"></div>
      <div id="message" class="hidden" style="margin-top:12px; padding:10px; border-radius:6px;"></div>
      <div id="nextArea" style="margin-top:12px;"></div>
      <div id="progress" style="margin-top:10px; font-size:13px; color:#888;"></div>
    </div>
    <footer>Happy ä¸ƒå¤• â¤ï¸ çˆ±åœ¨è§£è°œçš„æ¯ä¸€æ­¥</footer>
  </div>

  <!-- èƒŒæ™¯éŸ³ä¹ -->
  <audio id="bgm" loop>
    <source src="https://ri-sycdn.kuwo.cn/16cac2c4564e23cb5fbe28ba91ce40b6/68b00647/resource/n3/58/86/1033143570.mp3" type="audio/mpeg">
  </audio>

<script>
const nodes = [
  {
    id: 1,
    prompt: "ç¬¬ä¸€å…³ ğŸ’• \n é‚£é‡Œæ˜¯æˆ‘ä»¬åˆæ¬¡ç›¸è¯†çš„åœ°æ–¹ï¼Œæ˜¯æˆ‘ä»¬çš„ç¬¬ä¸€ä¸ªå¥½å‹å…³ç³»ã€‚\n ä»æ™®é€šå¥½å‹å¼€å§‹ï¼Œä½ å°±è¿™ä¹ˆåœ¨æˆ‘çš„å¥½å‹åˆ—è¡¨é‡Œå¾…äº†å¥½å¤šå¹´ã€‚\n ä½ ä¼šæ‰“è¶£çš„æŠŠè‹±æ–‡å¿µæˆæ‹¼éŸ³æ¥ç§°å‘¼æˆ‘ï¼Œè¿˜ç»å¸¸ç»™æˆ‘ä¹±èµ·åå­—ã€‚ \n æ¸æ¸çš„ï¼Œæ™®é€šå¥½å‹ä¹Ÿå‡çº§æˆäº†äº²å¯†å¥½å‹ \nï¼ˆå¯†ç æ˜¯ 4 ä½æ•°å­—ï¼‰",
    answer: "5569",
    hint: "ç¬¬ä¸€é¢˜çš„æç¤ºç›´æ¥é€ç»™ä½ ï¼æ˜¯åœ¨#åé¢çš„æ•°å­—å“¦",
    successText: "å¤ªæ£’äº†ï¼ğŸ’– ç»§ç»­å‰å¾€ä¸‹ä¸€å…³ï¼Œæ›´å¤šçš„å›å¿†åœ¨ç­‰ä½ ï½"
  },
  {
    id: 2,
    prompt: "ç¬¬äºŒå…³ ğŸŒ™ \n æ¸æ¸çš„æˆ‘ä»¬çš„å…³ç³»ä¸æ­¢äºæˆ˜ç½‘ï¼Œè¿˜åœ¨é‚£é‡Œæœ‰äº†è‡ªå·±çš„èŠå¤©å®¤ï¼Œè¿™å¤©å°±èŠä¸å®Œå•¦ã€‚ç»†å¿ƒçš„ä½ æ˜¯å¦å‘ç°ï¼Œè·Ÿä½ èŠå¤©çš„äººï¼Œä¸å¤ªä¸€æ ·äº†å‘¢? ï¼ˆå¯†ç æ˜¯ 3 ä½æ•°å­—ï¼‰",
    answer: "520",
    hint: "ç¬¬äºŒå…³çš„æç¤ºéœ€è¦è¯´å‡ºä¸€ä¸ªä½ å–œæ¬¢æˆ‘çš„ç‰¹è´¨æ‰å¯ä»¥è·å¾—å“¦ï¼",
    successText: "å¥½èªæ˜çˆ±ä½ å“Ÿï¼ğŸ’Œ ç»§ç»­å‰è¿›å§ã€‚"
  },

    {
    id: 3,
    prompt: "ç¬¬ä¸‰å…³ âœ‰ï¸ \n é™¤äº†èŠå¤©ï¼Œæˆ‘ä»¬åšçš„æœ€å¤šçš„äº‹æƒ…å°±æ˜¯ä¸€èµ·ç©å„ç§å„æ ·çš„æ¸¸æˆå•¦ï¼Œæ‰“å¿ƒåº•é‡Œå› ä¸ºæœ‰ä¸€ä¸ªä½ è¿™æ ·çš„æ¸¸æˆæ­å­è€Œæ„Ÿåˆ°å¼€å¿ƒï¼Œæ›´å¼€å¿ƒçš„æ˜¯è¿™ä¸ªäººè¿˜æ˜¯æˆ‘å¥³æœ‹å‹ï¼\n  å¾ˆå–œæ¬¢è·Ÿä½ ç©æ¸¸æˆï¼Œæ¯ä¸ªæ¸¸æˆéƒ½æ˜¾å¾—è¶…å¥½ç© \n æˆ‘ä»¬çš„å¤´åƒè¿˜æ˜¯æƒ…ä¾£çš„å¤šé…å‘€ ï¼ˆå¯†ç  7 ä¸ªæ±‰å­— æ²¡æœ‰ç©ºæ ¼ï¼‰ã€‚",
    answer: "ä¸€åªçŒ«åˆ°æ­¤ä¸€æ¸¸",
    hint: "Steam æœ€è¿‘æœ‰æ²¡æœ‰å¥‡æ€ªçš„ä¿¡æ¯ï¼Ÿ",
    successText: "æ­å–œï¼æˆ‘è¦åšä½ æœ€å¥½çš„æ¸¸æˆæ­å­ï¼ğŸ’ª"
  },
    {
    id: 4,
    prompt: "ç¬¬å››å…³ ğŸ® \n è¿˜è®°å¾—æˆ‘ä»¬ç©è¿‡ä»€ä¹ˆæ¸¸æˆå—ï¼Ÿï¼ˆå¯†ç æ˜¯ 4 ä¸ªé¢œè‰²ç»„æˆçš„ 4 ä¸ªæ±‰å­—ï¼‰\n  1.å¥³ç«¥å¸¸ä¼´å°‘ä¸œå®¶ \n 2. æ¡ˆæ¡Œæ¨ªæ”¾ä¸‰å¯¿å¸ \n 3. é—å¿˜ä¹‹åŸå®ˆå¤œé•¿ \n 4. å¤±è¸ªå±±è°·å•çº¸å‡‰ ",
    answer: "çº¢ç»¿é‡‘è“",
    hint: "ç¬¬å››å…³çš„æç¤ºéœ€è¦ä½ è¯­éŸ³å«æˆ‘ä¸€å£°å¥½å¬çš„æ¥æ¢å–å“¦ï¼",
    successText: "è®°å¿†åŠ›å¥½æ£’ï¼æˆ‘ä»¬ä»¥åè¿˜æœ‰ä¼šæœ‰æ›´å¤šç¾å¥½çš„å›å¿†å—·ï¼æ­å–œè¿‡å…³ï¼"
  },
    {
    id: 5,
    prompt: "ç¬¬äº”å…³ ğŸ± \n é™¤äº† Steamï¼Œåœ¨å…¶ä»–æ¸¸æˆé‡Œä¹Ÿæœ‰æˆ‘ä»¬äº²å¯†çš„ç—•è¿¹ï¼ä¿—è¯è¯´ ï¼š\n å³¡è°·å¤œæ·±ä¸¤äººè¡Œï¼Œ\nè½¯æ¯›ç›¾å½±ä¼¤ç—•æ˜ã€‚\nå±å‰å›é¦–æ˜ æ˜Ÿå…‰ï¼Œ\næ•°å­—è½»è¯­è—ç§˜å¯†ã€‚\næŒ‡å°–å¾®åŠ¨å‡»æ–©æ•Œï¼Œ\næˆ˜ç»©ä¹‹ä¸­å¯»è¸ªè¿¹ã€‚\nè¾“å‡ºé«˜ä½å¿ƒä¸­è®°ï¼Œ\nä¸€è§ˆæ•°å€¼è§£è°œé¢˜ã€‚\n ï¼ˆå¯†ç æ˜¯ä¸€ä¸ª 8 ä½æ•°å­—ï¼‰",
    answer: "6590",
    hint: "ç¬¬äº”å…³çš„æç¤ºéœ€è¦ä½ æä¾›ä¸€å¼ æœ‰ä½ çš„ç…§ç‰‡æ¥æ¢å–å“¦ï¼",
    successText: "æ­å–œè¿‡å…³å°çŒ«å’ªï¼ç¦»èƒœåˆ©è¿˜å·®ä¸¤æ­¥å•¦ï¼"
  },
    {
    id: 6,
    prompt: "ç¬¬å…­å…³ âŒ›ï¸ \n é™¤äº†æ¸¸æˆå¾®ä¿¡steamæˆ˜ç½‘è¿™ç§å¸¸è§çš„æ²Ÿé€šï¼Œæˆ‘ä»¬ä¹Ÿå¦è¾Ÿè¹Šå¾„çš„å¼€åˆ›äº†é£ä¹¦æƒ…ä¾£è¿™ä¸€æ–°èµ›é“ã€‚\n æ„Ÿè°¢å®å®åœ¨æˆ‘ä¸åœ¨çš„æ—¶å€™ï¼Œè¿˜æ„¿æ„è·Ÿæˆ‘èŠå¤©ï¼ \n é‚£ä¹ˆæ˜¯ä»ä»€ä¹ˆæ—¶å€™å¼€å§‹çš„å‘¢ï¼Ÿï¼ˆå¯†ç æ˜¯ä¸€ä¸ª8ä½æ•°å­—ï¼‰ï¼‰",
    answer: "07120336",
    hint: "ç›¸ä¿¡è‡ªå·±ä½ èƒ½æ‰¾åˆ°ï¼æœ‰æ—¶å€™æˆ‘åšå¥½å‡†å¤‡äº†ï¼Œå°±ç®—åšå¼€å§‹å“¦ï¼",
    successText: "çœŸæ£’ï¼èªæ˜çš„ä½ åˆåšåˆ°å•¦ï¼Œé©¬ä¸Šå°±è¦æœ€æœ‰ä¸€ä¸ªé—®é¢˜å’¯ï¼Œè§£å¯†ä¹‹æ—…è¦åˆ°å°¾å£°äº†å‘¢"
  },
  {
    id: 7,
    prompt: "å…³åº•boss ğŸ \n ä»¥å§‹ä¸ºç»ˆï¼Œä»¥ç»ˆä¸ºå§‹ï¼Œå¸Œæœ›æˆ‘ä»¬èƒ½ä¸€ç›´å¥½å¥½çš„ï¼å»æˆ‘ä»¬å»è¿‡çš„åœ°æ–¹ï¼Œçœ‹æˆ‘ä»¬çœ‹è¿‡çš„é£æ™¯ï¼Œæ‰¾ä¸€ä¸ªçœ‹èµ·æ¥å¥‡æ€ªçš„äººï¼Œé—®é—®ä»–å«ä»€ä¹ˆ ",
    answer: "0905",
    hint: "ç›¸è¯†çš„ä¸–ç•Œï¼Œæƒ³çŸ¥çš„ä¸–ç•Œï¼Œç„¶è€Œç›¸æ‹äº†ï¼Œæ‰å¸¦ä½ å»çœ‹çš„é‚£ä¸€é¢—è‹¹æœ",
    successText: "æ­å–œé€šå…³ï¼ğŸ‰ ä¸ƒå¤•å¿«ä¹ï¼Œæˆ‘çš„å°å®è´â¤ï¸ ç¤¼ç‰©åœ¨ç­‰ä½  ğŸ‘‰ <strong>https://bytedance.sg.larkoffice.com/docx/RdmvdPeepoaxWjx2JbJlGo02gee</strong>"
  }
];

let currentNodeId = parseInt(localStorage.getItem('puzzle_current_node') || '1', 10);
const el = {
  intro: document.getElementById('intro'),
  startBtn: document.getElementById('startBtn'),
  gameCard: document.getElementById('gameCard'),
  promptTxt: document.getElementById('promptTxt'),
  answerInput: document.getElementById('answerInput'),
  submitBtn: document.getElementById('submitBtn'),
  hintBtn: document.getElementById('hintBtn'),
  hintBox: document.getElementById('hintBox'),
  message: document.getElementById('message'),
  nextArea: document.getElementById('nextArea'),
  progress: document.getElementById('progress'),
  musicBtn: document.getElementById('musicBtn'),
  musicBtnGame: document.getElementById('musicBtnGame'),
  bgm: document.getElementById('bgm')
};

function findNode(id){ return nodes.find(n => n.id === id); }
function renderProgress(){ el.progress.textContent = `è¿›åº¦ï¼šç¬¬ ${currentNodeId} / ${nodes.length} æ­¥`; }

function loadNode(id){
  const node = findNode(id);
  if(!node) return;
  currentNodeId = node.id;
  localStorage.setItem('puzzle_current_node', String(currentNodeId));
  el.promptTxt.innerHTML = node.prompt.replace(/\n/g, "<br/>");
  el.hintBox.classList.add('hidden');
  el.hintBox.innerText = node.hint;
  el.message.classList.add('hidden');
  el.answerInput.value = "";
  el.answerInput.focus();
  el.nextArea.innerHTML = "";
  renderProgress();
}

function checkAnswer(){
  const node = findNode(currentNodeId);
  const raw = el.answerInput.value.trim();
  if(!raw){ showMessage('è¯·è¾“å…¥ç­”æ¡ˆå†æäº¤å“¦ï½','error'); return; }
  const input = raw.toUpperCase();
  if(input === node.answer.toUpperCase()){
    showMessage(node.successText,'success');
    const nextNode = findNode(currentNodeId + 1);
    if(nextNode){
      const btn = document.createElement('button');
      btn.className = 'btn';
      btn.innerText = 'è¿›å…¥ä¸‹ä¸€å…³ â¡ï¸';
      btn.onclick = () => loadNode(nextNode.id);
      el.nextArea.appendChild(btn);
    } else {
      localStorage.setItem('puzzle_finished', 'true');
    }
  } else {
    showMessage('ç­”æ¡ˆä¸å¯¹ï¼Œå†æƒ³æƒ³ï½','error');
    // è¾“å…¥æ¡†æŠ–åŠ¨
    el.answerInput.classList.add('shake');
    setTimeout(() => el.answerInput.classList.remove('shake'), 400);
  }
}

function showMessage(text, type){
  el.message.classList.remove('hidden');
  el.message.style.background = type === 'success' ? '#fff0f5' : '#fff5f7';
  el.message.style.border = type === 'success' ? '1px solid #f5a9c1' : '1px solid #f3b0b0';
  el.message.style.color = type === 'success' ? '#a1104d' : '#9a1b1b';
  el.message.innerHTML = text;
}

// æ’­æ”¾/æš‚åœéŸ³ä¹ï¼ˆé¦–é¡µï¼‰
el.musicBtn.addEventListener('click', () => {
  if(el.bgm.paused){
    el.bgm.play();
    el.musicBtn.textContent = "æš‚åœéŸ³ä¹ â¸ï¸";
    el.musicBtnGame.textContent = "æš‚åœéŸ³ä¹ â¸ï¸";
  } else {
    el.bgm.pause();
    el.musicBtn.textContent = "æ’­æ”¾éŸ³ä¹ ğŸ¶";
    el.musicBtnGame.textContent = "æ’­æ”¾éŸ³ä¹ ğŸ¶";
  }
});
// æ’­æ”¾/æš‚åœéŸ³ä¹ï¼ˆæ¸¸æˆé¡µï¼‰
el.musicBtnGame.addEventListener('click', () => {
  if(el.bgm.paused){
    el.bgm.play();
    el.musicBtn.textContent = "æš‚åœéŸ³ä¹ â¸ï¸";
    el.musicBtnGame.textContent = "æš‚åœéŸ³ä¹ â¸ï¸";
  } else {
    el.bgm.pause();
    el.musicBtn.textContent = "æ’­æ”¾éŸ³ä¹ ğŸ¶";
    el.musicBtnGame.textContent = "æ’­æ”¾éŸ³ä¹ ğŸ¶";
  }
});

// å¼€å§‹æ¸¸æˆ
el.startBtn.addEventListener('click', () => {
  el.intro.classList.add('hidden');
  el.gameCard.classList.remove('hidden');
  loadNode(1); // ä»ç¬¬ä¸€å…³å¼€å§‹
});

el.submitBtn.addEventListener('click', checkAnswer);
el.hintBtn.addEventListener('click', () => {
  el.hintBox.classList.toggle('hidden');
});
el.answerInput.addEventListener('keydown', e => { if(e.key === 'Enter'){ checkAnswer(); } });

document.addEventListener('DOMContentLoaded', () => {
  if(localStorage.getItem('puzzle_finished') === 'true'){
    currentNodeId = nodes.length;
    loadNode(currentNodeId);
    showMessage('ä½ å·²ç»å®Œæˆå•¦ ğŸ’– å¦‚æœæƒ³é‡æ–°å¼€å§‹ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®','success');
    const resetBtn = document.createElement('button');
    resetBtn.className = 'btn secondary';
    resetBtn.textContent = 'é‡ç½®è¿›åº¦';
    resetBtn.onclick = () => {
      localStorage.removeItem('puzzle_current_node');
      localStorage.removeItem('puzzle_finished');
      currentNodeId = 1;
      loadNode(1);
      el.message.classList.add('hidden');
    };
    el.nextArea.appendChild(resetBtn);
  }
});
</script>
</body>
</html>
